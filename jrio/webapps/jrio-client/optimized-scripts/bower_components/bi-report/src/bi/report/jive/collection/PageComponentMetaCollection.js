define(["require","backbone","underscore","../model/BaseComponentMetaModel","../../enum/reportOutputFormats"],function(e){var t=e("backbone"),r=e("underscore"),o=e("../model/BaseComponentMetaModel"),n=e("../../enum/reportOutputFormats");return t.Collection.extend({initialize:function(e,t){this.report=t.report},model:function(e,t){return new o(e,t)},url:function(){return this.report.getExport(n.HTML).urlAttachments()+"reportComponents.json"},fetch:function(){if(!this.report.has("requestId"))throw new Error("You must run report first before fetching components.");return t.Collection.prototype.fetch.call(this,{type:"GET",reset:!0,headers:{Accept:"application/json","x-jrs-base-url":this.report.contextPath}})},parse:function(e){return r.values(e)}})});